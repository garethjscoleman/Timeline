<!doctype html>
<html ng-app="timeline" >
  <head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>Timeline by garethjscoleman</title>

    <meta name="viewport" content="width=device-width">
    <!-- Angular Material requires Angular.js Libraries -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>

  <!-- Angular Material Library -->
  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>    
    <script src="timeline.js"></script>
    
     <link href="stylesheets/mainstyle.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body  ng-controller="timelineCtrl as thetimeline">
    <md-toolbar >
    <div layout="row" layout-align="start center">
       <div show-gt-xs flex="25">
        <span >{{thetimeline.title}}</span>
      </div>

      <!-- fill up the space between left and right area -->
      <span flex show-gt-xs></span>
        <md-input-container   md-no-float >
            <md-icon   class="material-icons">search</md-icon>
            <input  type='text' ng-model="thetimeline.thefilter" placeholder="Search here" ng-style="{'background-color':'white', 'color':'black'}" aria-label="filter"/>
        </md-input-container>
        <md-slider-container   >
            <md-slider md-discrete ng-model="thetimeline.scale" step="0.1" min="0.1" max="2">
            </md-slider>            
        </md-slider-container>          
     </div>
    </md-toolbar >
    <md-content >
      <div layout="column" layout-xs="column">
       <div  layout="row">
          <div flex="25"><h2>When</h2></div>
          <div flex="25"><h2>What</h2></div>
          <div flex="25"><h2>Who</h2></div>
          <div flex="25"><h2>Where</h2></div>
      </div>
      <div >
        <md-grid-list  md-gutter="1em" >
          <md-grid-tile ng-repeat="theevent in filteredEvents =  ( thetimeline.timelineEvents | orderBy:'whendate' | filter:thetimeline.thefilter)">
            <md-grid-tile-header>
              <h3>On {{theevent.whendate | date}} -  {{theevent.event}}</h3>
            </md-grid-tile-header>
             <div flex="25"  >{{theevent.who}}</div>
             <div flex="25"  >{{theevent.where}}</div>
          </md-grid-tile>
</md-grid-list>
        <md-content ng-repeat="theevent in filteredEvents =  ( thetimeline.timelineEvents | orderBy:'whendate' | filter:thetimeline.thefilter)">
             <div layout-fill ng-show="!$first" ng-style="{'border-left':'2px', 'border-color':'white','border-left-color':'black','border-style':'solid',height: thetimeline.divheight(theevent.whendate,thetimeline.filteredEvents[$index - 1].whendate) }" >
                <p>&nbsp;</p>
               </div>
             <md-card  md-image-no-fill>
                 <img  src="card-image.png" class="md-card-image" alt="image caption">
                 <md-card-content>
                   <h2>On {{theevent.whendate | date}} -  {{theevent.event}}</h2>
                   <p>{{theevent.event}} </p>
                 </md-card-content>
                 <md-card-footer>
                  <div flex="25"  >{{theevent.who}}</div>
                  <div flex="25"  >{{theevent.where}}</div>
                 </md-card-footer>
                </md-card>
          
          </md-content>
        
         <md-list >
           <div ng-repeat="theevent in filteredEvents =  ( thetimeline.timelineEvents | orderBy:'whendate' | filter:thetimeline.thefilter)">
             <div layout-fill ng-show="!$first" ng-style="{'border-left':'2px', 'border-color':'white','border-left-color':'black','border-style':'solid',height: thetimeline.divheight(theevent.whendate,thetimeline.filteredEvents[$index - 1].whendate) }" >
                <p>&nbsp;</p>
               </div>
          <div  layout="column" class="md-2-line"  >              
                <div layout="row"  layout-fill>

                  <div flex="25" >{{theevent.whendate | date}}</div>
                  <div flex="25"  >{{theevent.event}} 
                      <md-tooltip>    {{theevent.notes}}
                      </md-tooltip>
                    <md-button ng-click="thetimeline.showDialog($event, theevent)" class="md-raised">
                    Read more ...
                    </md-button>
                  </div>
                  <div flex="25"  >{{theevent.who}}</div>
                  <div flex="25"  >{{theevent.where}}</div>
                </div>
          </div>
            </div>
         </md-list>
         </div>
        </div>
      </md-content>
  </body>
</html>
